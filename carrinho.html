<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho ‚Äì Delicias da Fabi</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="header">
    <div class="descricao-logo">
        <h1>Delicias da Fabi‚ù§Ô∏è</h1>
        <h3>Seu pedido üõí</h3>
    </div>
</header>

<section class="cardapio">
    <h2>üõçÔ∏è Itens do Carrinho</h2>
    
    <div id="listaCarrinho"></div>
    
    <h3 id="total"></h3>
    
    <a class="btn" href="index.html">‚¨Ö Continuar comprando</a>
    <br><br>
    <button class="btn btn-whatsapp" onclick="finalizarPedido()">Finalizar no WhatsApp</button>
</section>

<footer>
    <p>¬© 2026 Del√≠cias da Fabi</p>
</footer>

<script>
let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
let lista = document.getElementById('listaCarrinho');
let total = 0;

if (carrinho.length === 0) {
    lista.innerHTML = "<p style='text-align: center; font-size: 18px; padding: 40px 20px;'>Seu carrinho est√° vazio.</p>";
} else {
    carrinho.forEach((item, index) => {
        total += item.preco * item.qtd;
        lista.innerHTML += `
            <p>
                <span class="item-carrinho">${item.produto} x${item.qtd} - R$ ${(item.preco*item.qtd).toFixed(2)}</span>
                <button onclick="removerItem(${index})">‚ùå Remover</button>
            </p>
        `;
    });
}

document.getElementById('total').innerText = "Total: R$ " + total.toFixed(2);

function removerItem(index) {
    carrinho.splice(index, 1);
    localStorage.setItem('carrinho', JSON.stringify(carrinho));
    location.reload();
}

function finalizarPedido() {
    if (carrinho.length === 0) {
        alert("Seu carrinho est√° vazio!");
        return;
    }
    
    let mensagem = "Ol√°! Gostaria de fazer um pedido:%0A%0A";
    carrinho.forEach(item => {
        mensagem += `‚Ä¢ ${item.produto} x${item.qtd} - R$ ${(item.preco*item.qtd).toFixed(2)}%0A`;
    });
    mensagem += `%0ATotal: R$ ${total.toFixed(2)}`;
    
    window.open(
        `https://wa.me/5541998766866?text=${mensagem}`,
        "_blank"
    );
}
</script>

</body>
</html>

